#!/usr/bin/env bash

DIR="$HOME"
DIRA="$HOME/.config/alacritty"
DIRB="$HOME/.config/bspwm"
DIRT="$HOME/.config/bspwm/gtk-themes"
DIRP="$HOME/.config/bspwm/polybar"
DIRR="$HOME/.config/bspwm/rofi/themes"
DIRG="$HOME/.config/gtk-3.0"

change_alacritty() {
    cat "$DIRA"/colors/$trm.yml > "$DIRA"/colors.yml
}

change_bar() {
    cat "$DIRP"/$bar/config.ini > "$DIRP"/config.ini
    polybar-msg cmd restart
}

change_feh() {
    feh --bg-scale "$DIRB"/wallpapers/"$bg"
    cat "$HOME"/.fehbg  > "$DIRB"/.fehbg
}

change_gtk() {
    if [ -d "$DIRG" ]; then
        echo "'$DIRG' found and now copying files, please wait ..."
        cat "$DIRT"/gtk2-$bar > "$DIR"/.gtkrc-2.0
        cat "$DIRT"/gtk3-$bar > "$DIRG"/settings.ini
    else
        echo "Warning: '$DIRG' NOT found"
        echo "Creating directory '$DIR', please wait ..."
        mkdir $DIRG
        echo "Now try again"
    fi
}

change_rofi() {
    cat "$DIRR"/colors/colors-$bar.rasi > "$DIRR"/colors.rasi
}

change_vim() {
    sed -i "108s/.*/colorscheme $trm/" "$DIR"/.vimrc
}

if  [[ "$1" = "--ganyu" ]]; then
    bar="ganyu"
    bg="Ganyu.png"
    trm="tokyonight"
    change_alacritty
    change_bar
    change_feh
    change_gtk
    change_rofi
    change_vim

elif  [[ "$1" = "--hsgrl" ]]; then
    bar="hsgrl"
    bg="HSG.jpg"
    trm="dracula"
    change_alacritty
    change_bar
    change_feh
    change_gtk
    change_rofi
    change_vim

else
    echo "No option specified, Available options: --ganyu   --hsgrl"
fi
